---
import Contact from "@/components/Contact.astro";
import Button from "@/components/ui/astro/Button.astro";
import Projects from "@/components/Projects.astro";
import Socials from "@/components/Socials.astro";
import FolderKanban from "@lucide/astro/icons/folder-kanban";
import Share2 from "@lucide/astro/icons/share-2";
import Mail from "@lucide/astro/icons/mail";

interface Props {
  dict: Record<string, string>;
  projects: unknown[];
  socials: unknown[];
  navSocial: Record<string, string>;
  logo: string;
  email?: string;
}

const { dict, projects, socials, navSocial, logo, email } = Astro.props as Props;
---

<section class="mb-6 text-center text-foreground">
  <div
    class="relative mx-auto aspect-[1150/150] w-full max-w-[18rem] md:max-w-[22rem]"
    style={`mask-image: url(${logo}); -webkit-mask-image: url(${logo}); mask-repeat: no-repeat; -webkit-mask-repeat: no-repeat; mask-size: contain; -webkit-mask-size: contain; mask-position: center; -webkit-mask-position: center;`}
  >
    <span aria-hidden class="absolute inset-0 block rounded-sm bg-[var(--foreground)]" />
    <img src={logo} alt="Mick Schroeder" class="sr-only" loading="eager" decoding="async" />
  </div>
  <h1 class="sr-only">Mick Schroeder</h1>
</section>

<div class="relative mb-10 overflow-hidden rounded-2xl hero-gradient p-6 text-center ring-1 ring-emerald-500 dark:ring-emerald-800 md:p-10">
  <div aria-hidden class="pointer-events-none absolute inset-0">
    <div class="animate-drift-slow absolute left-1/2 top-[-30%] h-60 w-60 -translate-x-1/2 rounded-full bg-lime-500/15 blur-3xl" />
    <div class="animate-drift-slower absolute -left-6 bottom-[-10%] h-48 w-48 rounded-full bg-emerald-500/15 blur-3xl" />
    <div class="animate-glow absolute right-[-8%] top-[-12%] h-56 w-56 rotate-6 rounded-full bg-teal-500/14 blur-3xl" />
    <div class="animate-shimmer absolute inset-x-8 top-0 h-px bg-[linear-gradient(90deg,transparent,rgba(190,242,100,0.7),transparent)]" />
  </div>
  <p class="relative z-10 text-xl text-hero-primary-foreground md:px-10 animate-rise" style="animation-delay: 0.05s" set:html={dict["hero_line"]} />
  <p class="relative z-10 mt-3 text-hero-secondary-foreground text-sm md:text-base animate-rise" style="animation-delay: 0.15s">
    {dict["hero_sub_line"]}
  </p>
  <div class="relative z-10 mt-6 flex flex-col items-center justify-center gap-3 md:flex-row animate-rise" style="animation-delay: 0.25s">
    <Button href="#projects" size="lg">
      {dict["cta_projects"]}
    </Button>
    <Button href="#contact" variant="outline" size="lg">
      {dict["cta_email"]}
    </Button>
  </div>
  <div class="relative z-10 mt-4 flex flex-wrap justify-center gap-4 text-sm font-medium text-emerald-50 animate-rise" style="animation-delay: 0.35s">
    {navSocial.linkedin && (
      <a
        href={`https://www.linkedin.com/in/${navSocial.linkedin}/`}
        target="_blank"
        rel="noopener noreferrer"
        class="text-card-foreground underline decoration-emerald-300 underline-offset-4 hover:text-emerald-100"
      >
        {dict["cta_linkedin"]}
      </a>
    )}
    {navSocial.github && (
      <a
        href={`https://github.com/${navSocial.github}`}
        target="_blank"
        rel="noopener noreferrer"
        class="text-card-foreground underline decoration-emerald-300 underline-offset-4 hover:text-emerald-100"
      >
        {dict["cta_github"]}
      </a>
    )}
  </div>
</div>

<section id="projects" class="mt-10 scroll-mt-32">
  <h2 class="animate-rise mb-4 flex items-center gap-2 text-2xl font-bold" style="animation-delay: 0.1s">
    <FolderKanban class="h-6 w-6 text-primary" aria-hidden="true" />
    {dict["projects_heading"]}
  </h2>
  <Projects projects={projects} />
</section>

<section id="socials" class="mt-10 scroll-mt-32">
  <h2 class="animate-rise mb-4 flex items-center gap-2 text-2xl font-bold" style="animation-delay: 0.1s">
    <Share2 class="h-6 w-6 text-primary" aria-hidden="true" />
    {dict["socials_heading"]}
  </h2>
  <Socials items={socials} dict={dict} />
</section>

<section id="contact" class="mt-10 scroll-mt-32">
  <h2 class="animate-rise mb-4 flex items-center gap-2 text-2xl font-bold" style="animation-delay: 0.1s">
    <Mail class="h-6 w-6 text-primary" aria-hidden="true" />
    {dict["contact_heading"]}
  </h2>
  <Contact email={email} dict={dict} />
</section>
